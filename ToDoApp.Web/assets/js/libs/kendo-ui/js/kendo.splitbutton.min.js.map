{"version":3,"file":"kendo.splitbutton.min.js","sources":["kendo.splitbutton.js"],"sourcesContent":["(function(f, define) {\n    define('kendo.splitbutton',[\"kendo.html.button\", \"kendo.button.menu\"], f);\n})(function() {\n\nvar __meta__ = {\n    id: \"splitbutton\",\n    name: \"SplitButton\",\n    category: \"web\",\n    description: \"The SplitButton allows the user to execute a default action which is bound to a Button or to choose a predefined action from a drop-down list.\",\n    depends: [\"button.menu\", \"html.button\"]\n};\n\n(function($, undefined) {\n    var kendo = window.kendo,\n        Widget = kendo.ui.Widget,\n        NS = \".kendoSplitButton\",\n        ui = kendo.ui,\n        extend = $.extend,\n        html = kendo.html,\n        outerWidth = kendo._outerWidth,\n        keys = kendo.keys,\n\n        DOT = \".\",\n        ID = \"id\",\n\n        ARIA_HASPOPUP = \"aria-haspopup\",\n        ARIA_DISABLED = \"aria-disabled\",\n        ARIA_CONTROLS = \"aria-controls\",\n        ARIA_LABEL = \"aria-label\",\n        ARIA_EXPANDED = \"aria-expanded\",\n\n        DISABLED = \"disabled\",\n        DISABLEDSTATE = \"k-disabled\",\n        FOCUSSTATE = \"k-focus\",\n\n        CLICK = \"click\",\n        KEYDOWN = \"keydown\",\n        OPEN = \"open\",\n        CLOSE = \"close\",\n\n        FOCUS = \"focus\",\n        BLUR = \"blur\";\n\n    var cssClasses = {\n        widget: \"k-split-button k-button-group\"\n    };\n\n    var SplitButton = Widget.extend({\n        init: function(element, options) {\n            var that = this;\n\n            options.enabled = options.enabled !== false && !$(element).prop(DISABLED);\n            Widget.fn.init.call(that, element, options);\n\n            that._wrapper();\n            that._renderButtons();\n            that._renderMenu();\n\n            that._enable(that.options.enabled);\n\n            that._aria();\n\n            that._attachEvents();\n\n            kendo.notify(that);\n\n            that._applyCssClasses();\n        },\n\n        options: {\n            name: \"SplitButton\",\n            enabled: true,\n            items: [],\n            rounded: \"medium\",\n            size: \"medium\",\n            fillMode: \"solid\",\n            themeColor: \"base\",\n            icon: null,\n            popup: null,\n            arrowIcon: \"arrow-s\",\n            messages: {\n                labelSuffix: \"splitbutton\"\n            }\n        },\n\n        events: [\n            CLICK,\n            OPEN,\n            CLOSE\n        ],\n\n        _wrapper: function() {\n            var that = this,\n                id = that.element.attr(ID) || kendo.guid(),\n                wrapperId = id + \"_wrapper\";\n\n            that.wrapper = that.element\n                .wrap(\"<div id=\\\"\" + wrapperId + \"\\\" class=\\\"\" + cssClasses.widget + \"\\\"></div>\")\n                .parent(\".k-split-button\");\n\n            that.arrowButton = $(\"<button tabindex=\\\"-1\\\" aria-label=\\\"arrow-button\\\" class=\\\"k-split-button-arrow\\\"></button>\").appendTo(that.wrapper);\n        },\n\n        _applyCssClasses: function() {\n            var that = this;\n\n            that.wrapper.addClass(that._getAppearanceClasses());\n        },\n\n        _clearCssClasses: function() {\n            var that = this;\n\n            that.wrapper.removeClass(that._getAppearanceClasses());\n        },\n\n        _getAppearanceClasses: function() {\n            var that = this,\n                widgetName = that.__proto__.options.name,\n                roundedClass = kendo.cssProperties.getValidClass({\n                    widget: widgetName,\n                    propName: \"rounded\",\n                    value: that.options.rounded\n                });\n\n            return roundedClass;\n        },\n\n        _renderButtons: function() {\n            var that = this;\n\n            that._mainButton();\n            that._arrowButton();\n        },\n\n        _mainButton: function() {\n            var that = this,\n                options = extend({}, that.options, {\n                    type: that.element.attr(\"type\") || \"button\"\n                });\n\n            delete options.click;\n\n            html.renderButton(that.element, options);\n        },\n\n        _arrowButton: function() {\n            var that = this,\n                options = extend({}, that.options, {\n                    type: \"button\",\n                    icon: that.options.arrowIcon,\n                });\n\n            delete options.text;\n            delete options.imageUrl;\n            delete options.click;\n\n            html.renderButton(that.arrowButton, options);\n        },\n\n        _aria: function() {\n            var that = this,\n                element = that.element,\n                menu = that.menu;\n\n            element.attr(ARIA_HASPOPUP, menu ? \"menu\" : null);\n            element.attr(ARIA_EXPANDED, menu ? false : null);\n            element.attr(ARIA_CONTROLS, menu ? menu.list.attr(ID) : null);\n\n            if (!element.attr(ARIA_LABEL)) {\n                element.attr(ARIA_LABEL, element.text() + \" \" + that.options.messages.labelSuffix);\n            }\n        },\n\n        _renderMenu: function() {\n            var that = this,\n                options = extend({}, that.options),\n                menu = $(\"<div></div>\");\n\n            delete options.click;\n            delete options.name;\n\n            if (!options.items.length) {\n                return;\n            }\n\n            that.menu = menu.appendTo(that.wrapper).kendoButtonMenu(extend({\n                mainButton: that.element,\n                toggleTarget: that.arrowButton,\n                menuOpen: that.menuOpenHandler.bind(that),\n                menuClose: that.menuCloseHandler.bind(that),\n                menuClick: that._click.bind(that)\n            }, options)).data(\"kendoButtonMenu\");\n        },\n\n        menuOpenHandler: function(ev) {\n            var that = this,\n                computedWidth = outerWidth(that.wrapper);\n\n            var isDefaultPrevented = that.trigger(OPEN, { target: that.element });\n            if (isDefaultPrevented) {\n                ev.preventDefault();\n                return;\n            }\n\n            ev.sender.adjustPopupWidth(computedWidth);\n            that.element.attr(ARIA_EXPANDED, true);\n        },\n\n        menuCloseHandler: function(ev) {\n            var that = this,\n                isDefaultPrevented = that.trigger(CLOSE, { target: that.element });\n\n            if (isDefaultPrevented) {\n                ev.preventDefault();\n                return;\n            }\n\n            that.element.attr(ARIA_EXPANDED, false);\n            that.element.trigger(FOCUS);\n        },\n\n        _attachEvents: function() {\n            var that = this;\n\n            that.element.on(CLICK + NS, that._click.bind(that));\n            that.element.on(KEYDOWN + NS, that._keydown.bind(that));\n            that.element.on(FOCUS + NS, that._focus.bind(that));\n            that.element.on(BLUR + NS, that._blur.bind(that));\n        },\n\n        _focus: function() {\n            this.wrapper.addClass(FOCUSSTATE);\n        },\n\n        _blur: function() {\n            this.wrapper.removeClass(FOCUSSTATE);\n        },\n\n        _click: function(ev) {\n            var that = this,\n                target = $(ev.target).closest(\".k-button\"),\n                id = target.attr(ID),\n                originalEvent = ev;\n\n            if (ev.type === \"menu-click\") {\n                id = ev.id;\n                target = ev.target;\n                originalEvent = ev.originalEvent;\n            }\n\n            that.menu.close();\n\n            that.trigger(CLICK, { id: id, target: target, originalEvent: originalEvent });\n        },\n\n        _keydown: function(ev) {\n            var that = this;\n\n            if (that.element.is(DOT + DISABLEDSTATE) && (ev.keyCode === keys.ENTER || ev.keyCode === keys.SPACEBAR)) {\n                ev.preventDefault();\n            }\n        },\n\n        focus: function() {\n            var that = this;\n            that.element.trigger(FOCUS);\n        },\n\n        _enable: function(enable, soft) {\n            this.element.add(this.arrowButton)\n                .toggleClass(DISABLEDSTATE, !enable);\n\n            if (enable) {\n                this.element.removeAttr(ARIA_DISABLED);\n            } else {\n                this.element.attr(ARIA_DISABLED, !enable);\n            }\n\n            if (!soft) {\n                this.element.attr(DISABLED, !enable);\n            }\n\n            this.arrowButton.attr(DISABLED, !enable);\n        },\n\n        enable: function(enable, menuItem, soft) {\n            var that = this;\n\n            if (enable === undefined) {\n                enable = true;\n            }\n\n            if (menuItem && menuItem.length) {\n                that.menu.enable(enable, menuItem);\n                return;\n            }\n\n            that.options.enabled = enable;\n\n            that._enable(enable, soft);\n            that.menu.enable(enable);\n        },\n\n        hide: function(menuItem) {\n            var that = this;\n\n            if (menuItem && menuItem.length) {\n                that.menu.hide(menuItem);\n            }\n        },\n\n        show: function(menuItem) {\n            var that = this;\n\n            if (menuItem && menuItem.length) {\n                that.menu.show(menuItem);\n            }\n        },\n\n        open: function() {\n            this.menu._popup.open();\n        },\n\n        close: function() {\n            this.menu._popup.close();\n        },\n\n        items: function() {\n            return this.menu.items();\n        },\n\n        setOptions: function(options) {\n            var that = this;\n\n            Widget.fn.setOptions.call(that, options);\n\n            if (options.popup || options.items || options.size) {\n                that.menu.destroy();\n                that._renderMenu();\n            }\n\n            that._renderButtons();\n\n            that._aria();\n        },\n\n        destroy: function() {\n            var that = this;\n\n            that.menu.destroy();\n\n            that.element.off(NS);\n\n            Widget.fn.destroy.call(that);\n        }\n    });\n\n    kendo.cssProperties.registerPrefix(\"SplitButton\", \"k-splitbutton-\");\n\n    kendo.cssProperties.registerValues(\"SplitButton\", [{\n        prop: \"rounded\",\n        values: kendo.cssProperties.roundedValues.concat([[\"full\", \"full\"]])\n    }]);\n\n    ui.plugin(SplitButton);\n\n})(window.kendo.jQuery);\n\nreturn window.kendo;\n\n}, typeof define == \"function\" && define.amd ? define : function(a1, a2, a3) {\n    (a3 || a2)();\n});\n"],"names":["define","__meta__","id","name","category","description","depends","$","window","kendo","jQuery","undefined","Widget","ui","NS","extend","html","outerWidth","_outerWidth","keys","DOT","ID","ARIA_HASPOPUP","ARIA_DISABLED","ARIA_CONTROLS","ARIA_LABEL","ARIA_EXPANDED","DISABLED","DISABLEDSTATE","FOCUSSTATE","CLICK","KEYDOWN","OPEN","CLOSE","FOCUS","BLUR","cssClasses","widget","SplitButton","init","element","options","that","this","enabled","prop","fn","call","_wrapper","_renderButtons","_renderMenu","_enable","_aria","_attachEvents","notify","_applyCssClasses","items","rounded","size","fillMode","themeColor","icon","popup","arrowIcon","messages","labelSuffix","events","attr","guid","wrapperId","wrapper","wrap","parent","arrowButton","appendTo","addClass","_getAppearanceClasses","_clearCssClasses","removeClass","widgetName","__proto__","roundedClass","cssProperties","getValidClass","propName","value","_mainButton","_arrowButton","type","click","renderButton","text","imageUrl","menu","list","length","kendoButtonMenu","mainButton","toggleTarget","menuOpen","menuOpenHandler","bind","menuClose","menuCloseHandler","menuClick","_click","data","ev","computedWidth","isDefaultPrevented","trigger","target","preventDefault","sender","adjustPopupWidth","on","_keydown","_focus","_blur","closest","originalEvent","close","is","keyCode","ENTER","SPACEBAR","focus","enable","soft","add","toggleClass","removeAttr","menuItem","hide","show","open","_popup","setOptions","destroy","off","registerPrefix","registerValues","values","roundedValues","concat","plugin","amd","a1","a2","a3"],"mappings":"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"}